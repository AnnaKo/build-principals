apply plugin:'java'
apply plugin: 'application'

mainClassName = 'com.test.Project'
jar.baseName = 'Gradle-Project-4-' + some_name.toString()

jar {
    manifest {
        attributes 'Implementation-Title': 'Hello app',
                   'Main-Class': 'com.test.Project'
    }
    //archiveName 'Gradle-Project-4.jar'
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile group: 'junit', name: 'junit', version: '4.4' //adding dependicies
    compile group: 'log4j', name: 'log4j', version: '1.2.17' //adding dependicies
    compile group: 'commons-collections', name: 'commons-collections', version: '3.0' //adding dependicies
}

task hello(dependsOn: 'test') {
    doLast {
        println "Test task works =  " + jar.archiveName.toString()
    }
}

build{
    doFirst {
        logger.quiet "My task build"
    }
    check.dependsOn.remove(test)
}

task test(type: Test, overwrite: true){
    doFirst {
        logger.quiet "Super-overwritting Test"
    }
    test.dependsOn build
    useJUnit {
        include '**/*UnitTest*'
    }
    afterTest {
        desc, result ->
        logger.quiet "UnitTest - ${desc.name} result: ${result.resultType}"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.11'
}
