apply plugin: "java"
apply plugin: "application"

jar.baseName = 'hello-' + numberofbuild.toString()

mainClassName = 'com.test.Project'

sourceCompatibility = JavaVersion.VERSION_1_6
targetCompatibility = JavaVersion.VERSION_1_6

repositories {
	mavenCentral()
}

jar {
  manifest {
    attributes 'Main-Class': "com.test.Project"
  }
}

dependencies {
	compile "log4j:log4j:1.2.17"
	compile "commons-collections:commons-collections:3.2.2"
	compile "junit:junit:4.8.1"
}

task wrapper(type: Wrapper) {
	gradleVersion = "4.6"
}

println "Starting gradle's version: $gradle.gradleVersion"

task hello(dependsOn: 'test') {
    doLast {
        println "JAR file name " + jar.archiveName.toString()
    }
}

build{
  check.dependsOn.remove(test)
}

test.dependsOn build
