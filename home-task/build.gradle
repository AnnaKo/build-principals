apply plugin: 'java'
apply plugin: 'application'

mainClassName = 'com.test.Project'

repositories {
    mavenCentral()
    jcenter()
}

jar.baseName = "hello-" + System.getenv('BUILD_NUMBER')

jar {
  manifest {
    attributes 'Main-Class': "com.test.Project"
  }
}

dependencies {
    implementation 'org.hibernate:hibernate-core:3.6.7.Final'
    api 'com.google.guava:guava:23.0'
    testImplementation 'junit:junit:4.+'
    compile 'log4j:log4j:1.2.17'
    compile 'org.slf4j:slf4j-log4j12:1.7.5'
}

task wrapper(type: Wrapper) {
gradleVersion = '1.12'
}

task hello (dependsOn: 'test') {
    doLast {
        println "JAR file name " + jar.archiveName.toString()
    }
}

build{
  check.dependsOn.remove(test)
}

test.dependsOn build

